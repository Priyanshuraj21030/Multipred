<!DOCTYPE html>
<html lang="en" id="html" data-bs-theme="dark">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Multi Pred | Breast Cancer Prediction</title>
    <link rel="icon" href="/MedHelp-main/logo.png" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <style>
      /* Base styles from index.html */
      :root {
        --primary-gradient: linear-gradient(45deg, #2937f0, #9f1ae2);
        --hover-gradient: linear-gradient(45deg, #9f1ae2, #2937f0);
        --card-shadow: 0 8px 30px rgba(0, 0, 0, 0.1);
        --transition: all 0.3s ease;
      }

      body {
        font-family: "Segoe UI", system-ui, -apple-system, sans-serif;
        background: linear-gradient(135deg, #0c0c1e, #1a1a3c);
        color: #fff;
      }

      /* Navbar styles */
      .navbar {
        backdrop-filter: blur(10px);
        box-shadow: 0 2px 15px rgba(0, 0, 0, 0.1);
        padding: 1rem 0;
        background: rgba(12, 12, 30, 0.8) !important;
      }

      /* Form specific styles */
      .prediction-form {
        background: rgba(255, 255, 255, 0.05);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 20px;
        padding: 2rem;
        margin: 2rem auto;
        max-width: 800px;
        box-shadow: var(--card-shadow);
        animation: fadeInUp 0.8s ease-out;
      }

      .form-control {
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(255, 255, 255, 0.1);
        color: #fff;
        transition: var(--transition);
      }

      .form-control:focus {
        background: rgba(255, 255, 255, 0.1);
        border-color: rgba(255, 255, 255, 0.2);
        box-shadow: 0 0 0 0.25rem rgba(41, 55, 240, 0.25);
        color: #fff;
      }

      .form-label {
        color: #fff;
        font-weight: 500;
        margin-bottom: 0.5rem;
      }

      .btn-primary {
        background: var(--primary-gradient);
        border: none;
        padding: 0.8rem 2rem;
        border-radius: 50px;
        font-weight: 500;
        transition: var(--transition);
        animation: pulse 2s infinite;
      }

      .btn-primary:hover {
        background: var(--hover-gradient);
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(41, 55, 240, 0.3);
      }

      /* Header section */
      .prediction-header {
        background: var(--primary-gradient);
        padding: 3rem 0;
        margin-bottom: 2rem;
        position: relative;
        overflow: hidden;
      }

      .prediction-header::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: url("/MedHelp-main/grid-pattern.svg");
        opacity: 0.1;
        animation: backgroundMove 20s linear infinite;
      }

      .prediction-title {
        font-size: 2.5rem;
        font-weight: 700;
        text-align: center;
        margin-bottom: 1rem;
        position: relative;
        z-index: 1;
        color: #fff;
      }

      /* Result alert styling */
      .alert {
        background: rgba(255, 255, 255, 0.05);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        color: #fff;
        animation: fadeInUp 0.5s ease-out;
      }

      /* Animations */
      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @keyframes pulse {
        0% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.05);
        }
        100% {
          transform: scale(1);
        }
      }

      @keyframes backgroundMove {
        0% {
          background-position: 0 0;
        }
        100% {
          background-position: 100% 100%;
        }
      }

      /* Form group hover effect */
      .mb-3 {
        transition: var(--transition);
      }

      .mb-3:hover {
        transform: translateX(5px);
      }

      /* Input field animations */
      .form-control {
        transition: var(--transition);
      }

      .form-control:focus {
        transform: scale(1.02);
      }

      /* Footer styles */
      footer {
        background: linear-gradient(135deg, #0c0c1e, #1a1a3c);
        border-top: 1px solid rgba(255, 255, 255, 0.1);
        margin-top: 4rem;
      }

      .footer-quote {
        background: rgba(255, 255, 255, 0.05);
        border-radius: 15px;
        padding: 2rem;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
      }

      /* Form column styling */
      .form-column {
        opacity: 0;
        transform: translateY(20px);
        animation: fadeInUp 0.5s ease-out forwards;
      }

      .form-column:nth-child(1) {
        animation-delay: 0.1s;
      }
      .form-column:nth-child(2) {
        animation-delay: 0.2s;
      }
      .form-column:nth-child(3) {
        animation-delay: 0.3s;
      }
      .form-column:nth-child(4) {
        animation-delay: 0.4s;
      }
      .form-column:nth-child(5) {
        animation-delay: 0.5s;
      }
      .form-column:nth-child(6) {
        animation-delay: 0.6s;
      }

      .gauge-visualization {
        position: relative;
        width: 200px;
        height: 100px;
        margin: 0 auto;
        overflow: hidden;
      }

      .gauge-arc {
        position: relative;
        width: 200px;
        height: 200px;
        border-radius: 50%;
        background: conic-gradient(
          from 180deg,
          #28a745 0deg,
          #ffc107 60deg,
          #dc3545 120deg,
          #dc3545 180deg
        );
        clip-path: polygon(0 50%, 100% 50%, 100% 100%, 0 100%);
      }

      .gauge-needle {
        position: absolute;
        bottom: 0;
        left: 50%;
        width: 4px;
        height: 100px;
        background: #fff;
        transform-origin: bottom center;
        transform: rotate(0deg);
        transition: transform 1s cubic-bezier(0.4, 0, 0.2, 1);
      }

      .gauge-labels {
        display: flex;
        justify-content: space-between;
        padding: 0.5rem 1rem;
        color: rgba(255, 255, 255, 0.7);
      }

      .importance-item {
        opacity: 0;
        transform: translateX(-20px);
        animation: slideIn 0.5s ease-out forwards;
      }

      .importance-item:nth-child(2) {
        animation-delay: 0.1s;
      }
      .importance-item:nth-child(3) {
        animation-delay: 0.2s;
      }
      .importance-item:nth-child(4) {
        animation-delay: 0.3s;
      }
      .importance-item:nth-child(5) {
        animation-delay: 0.4s;
      }
      .importance-item:nth-child(6) {
        animation-delay: 0.5s;
      }

      @keyframes slideIn {
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }

      .importance-fill {
        transition: width 1s ease-out;
      }

      .value-display {
        background: rgba(255, 255, 255, 0.1);
        padding: 2px 8px;
        border-radius: 4px;
        font-size: 0.9em;
        min-width: 60px;
        text-align: center;
      }

      .form-range {
        height: 1.5rem;
        padding: 0;
        background: transparent;
      }

      .form-range::-webkit-slider-thumb {
        background: var(--primary-gradient);
      }

      .form-range::-webkit-slider-runnable-track {
        background: rgba(255, 255, 255, 0.1);
        height: 0.5rem;
        border-radius: 0.25rem;
      }

      .parameter-item {
        background: rgba(255, 255, 255, 0.02);
        border-radius: 10px;
        padding: 1.5rem;
        margin-bottom: 1.5rem;
        transition: var(--transition);
      }

      .parameter-item:hover {
        transform: translateX(10px);
        background: rgba(255, 255, 255, 0.05);
      }

      .parameter-source {
        font-size: 0.9rem;
        color: #9f1ae2;
        margin-top: 0.5rem;
      }

      .method-card {
        background: rgba(255, 255, 255, 0.02);
        border-radius: 15px;
        padding: 2rem;
        text-align: center;
        height: 100%;
        transition: var(--transition);
      }

      .method-card:hover {
        transform: translateY(-5px);
        background: rgba(255, 255, 255, 0.05);
      }

      .method-card i {
        color: #9f1ae2;
      }

      .table {
        background: rgba(255, 255, 255, 0.02);
        border-radius: 10px;
        overflow: hidden;
      }

      .table th {
        background: rgba(159, 26, 226, 0.1);
        border-color: rgba(255, 255, 255, 0.1);
      }

      .table td {
        border-color: rgba(255, 255, 255, 0.1);
      }

      .normal-range {
        font-size: 0.9rem;
        margin-top: 0.5rem;
        padding: 0.5rem;
        background: rgba(255, 255, 255, 0.05);
        border-radius: 5px;
      }

      .example-card {
        background: rgba(255, 255, 255, 0.02);
        border-radius: 15px;
        padding: 1.5rem;
        height: 100%;
        transition: var(--transition);
      }

      .example-card:hover {
        transform: translateY(-5px);
        background: rgba(255, 255, 255, 0.05);
      }

      .example-card img {
        width: 100%;
        height: 200px;
        object-fit: cover;
        border-radius: 10px;
        margin-bottom: 1rem;
        transition: transform 0.3s ease;
        cursor: pointer;
      }

      .example-card img:hover {
        transform: scale(1.05);
      }

      .method-card {
        background: rgba(255, 255, 255, 0.02);
        border-radius: 15px;
        padding: 2rem;
        height: 100%;
        transition: var(--transition);
      }

      .method-card:hover {
        transform: translateY(-5px);
        background: rgba(255, 255, 255, 0.05);
      }

      .method-icon {
        color: #9f1ae2;
        margin-bottom: 1rem;
        transition: transform 0.3s ease;
      }

      .method-card:hover .method-icon {
        transform: scale(1.1);
      }

      .method-card ul {
        list-style-type: none;
        padding-left: 0;
      }

      .method-card ul li {
        margin-bottom: 0.5rem;
        padding-left: 1.5rem;
        position: relative;
      }

      .method-card ul li:before {
        content: "•";
        position: absolute;
        left: 0;
        color: #9f1ae2;
      }

      .accuracy-rate {
        margin-top: 1rem;
        text-align: right;
      }

      .badge {
        font-size: 0.9rem;
        padding: 0.5rem 1rem;
        border-radius: 20px;
      }

      .measurement-section {
        animation: fadeInUp 0.8s ease-out;
      }

      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      /* Image modal styles */
      .image-modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.9);
        z-index: 1050;
        cursor: pointer;
      }

      .modal-image {
        max-width: 90%;
        max-height: 90vh;
        margin: auto;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        border-radius: 10px;
      }

      .image-caption {
        position: absolute;
        bottom: 20px;
        left: 0;
        right: 0;
        text-align: center;
        color: white;
        padding: 10px;
        background: rgba(0, 0, 0, 0.7);
      }

      .video-container {
        position: relative;
        padding-bottom: 56.25%; /* 16:9 Aspect Ratio */
        height: 0;
        overflow: hidden;
        border-radius: 15px;
        box-shadow: 0 8px 30px rgba(0, 0, 0, 0.2);
      }

      .video-container iframe {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        transition: var(--transition);
      }

      .video-card {
        background: rgba(255, 255, 255, 0.02);
        border-radius: 15px;
        padding: 1rem;
        transition: var(--transition);
        height: 100%;
      }

      .video-card:hover {
        transform: translateY(-5px);
        background: rgba(255, 255, 255, 0.05);
      }

      .video-info {
        padding: 1rem;
      }

      .video-info h5 {
        color: #fff;
        margin-bottom: 0.5rem;
      }

      .video-description {
        background: rgba(255, 255, 255, 0.02);
        border-radius: 10px;
        padding: 1.5rem;
        margin-top: 1rem;
      }

      .video-description h4 {
        color: #9f1ae2;
        margin-bottom: 1rem;
      }
    </style>
  </head>
  <body>
    <nav class="navbar p-1 sticky-top navbar-expand-lg bg-body-secondary">
      <div class="container-fluid">
        <a href="/">
          <img
            src="/MedHelp-main/logo.png"
            width="30"
            height="30"
            alt="logo"
            id="logo"
            role="button"
            style="margin-right: 15px"
          />
        </a>

        <a class="navbar-brand" href="index.html">Multi Pred</a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <div id="options">
            <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
              <li class="nav-item">
                <a class="nav-link" aria-current="page" href="index.html"
                  >Home</a
                >
              </li>
              <li class="nav-item">
                <a class="nav-link" href="about.html">About</a>
              </li>
              <li class="nav-item">
                <a
                  class="nav-link d-flex align-items-center"
                  href="dashboard.html"
                >
                  <i class="fas fa-chart-line me-1"></i>
                  Dashboard
                </a>
              </li>
              <li class="nav-item dropdown">
                <a
                  class="nav-link dropdown-toggle"
                  href="#"
                  role="button"
                  data-bs-toggle="dropdown"
                  aria-expanded="false"
                >
                  Features
                </a>
                <ul class="dropdown-menu">
                  <li>
                    <a class="dropdown-item" href="diabetes.html"
                      >Diabetes Prediction</a
                    >
                  </li>
                  <li>
                    <a class="dropdown-item active" href="Breastcancer.html"
                      >Breast Cancer Prediction</a
                    >
                  </li>
                  <li>
                    <a class="dropdown-item" href="bmi.html">BMI Calculator</a>
                  </li>
                  <li><hr class="dropdown-divider" /></li>
                  <li>
                    <a class="dropdown-item" href="research-insights.html"
                      >What are we choosing this topic?</a
                    >
                  </li>
                </ul>
              </li>
            </ul>
          </div>
          <div
            class="d-flex flex-row justify-content-center align-items-center"
            id="themeselect"
          >
            <img
              src="/MedHelp-main/dark.png"
              alt="Dark"
              id="modeimg"
              height="18px"
              onclick="toggleTheme()"
              style="cursor: pointer"
            />
          </div>
        </div>
      </div>
    </nav>

    <header class="prediction-header">
      <div class="container">
        <h1 class="prediction-title">Breast Cancer Risk Assessment</h1>
        <p class="lead text-center text-white-50">
          Enter your medical metrics below for an AI-powered breast cancer risk
          prediction
        </p>
      </div>
    </header>

    <main class="container">
      <form class="prediction-form mb-5" method="POST">
        <div class="row g-4">
          <div class="col-md-6 form-column">
            <div class="mb-3">
              <label for="rm" class="form-label d-flex justify-content-between">
                Mean Radius
                <span class="value-display" id="radiusValue">0</span>
              </label>
              <input
                type="range"
                class="form-range"
                name="rm"
                id="radius"
                min="6"
                max="28"
                step="0.1"
                value="14"
                oninput="updateValue(this, 'radiusValue')"
              />
              <div class="d-flex justify-content-between">
                <small>6</small>
                <small>28</small>
              </div>
            </div>
          </div>

          <div class="col-md-6 form-column">
            <div class="mb-3">
              <label for="pm" class="form-label d-flex justify-content-between">
                Mean Perimeter
                <span class="value-display" id="perimeterValue">0</span>
              </label>
              <input
                type="range"
                class="form-range"
                name="pm"
                id="perimeter"
                min="43"
                max="190"
                step="0.1"
                value="92"
                oninput="updateValue(this, 'perimeterValue')"
              />
              <div class="d-flex justify-content-between">
                <small>43</small>
                <small>190</small>
              </div>
            </div>
          </div>

          <div class="col-md-6 form-column">
            <div class="mb-3">
              <label for="am" class="form-label d-flex justify-content-between">
                Mean Area
                <span class="value-display" id="areaValue">0</span>
              </label>
              <input
                type="range"
                class="form-range"
                name="am"
                id="area"
                min="143"
                max="2501"
                step="1"
                value="654"
                oninput="updateValue(this, 'areaValue')"
              />
              <div class="d-flex justify-content-between">
                <small>143</small>
                <small>2501</small>
              </div>
            </div>
          </div>

          <div class="col-md-6 form-column">
            <div class="mb-3">
              <label for="cm" class="form-label d-flex justify-content-between">
                Mean Compactness
                <span class="value-display" id="compactnessValue">0</span>
              </label>
              <input
                type="range"
                class="form-range"
                name="cm"
                id="compactness"
                min="0.05"
                max="0.3"
                step="0.001"
                value="0.1"
                oninput="updateValue(this, 'compactnessValue')"
              />
              <div class="d-flex justify-content-between">
                <small>0.05</small>
                <small>0.3</small>
              </div>
            </div>
          </div>

          <div class="col-md-6 form-column">
            <div class="mb-3">
              <label
                for="cnm"
                class="form-label d-flex justify-content-between"
              >
                Mean Concavity
                <span class="value-display" id="concavityValue">0</span>
              </label>
              <input
                type="range"
                class="form-range"
                name="cnm"
                id="concavity"
                min="0"
                max="0.4"
                step="0.001"
                value="0.1"
                oninput="updateValue(this, 'concavityValue')"
              />
              <div class="d-flex justify-content-between">
                <small>0</small>
                <small>0.4</small>
              </div>
            </div>
          </div>

          <div class="col-md-6 form-column">
            <div class="mb-3">
              <label
                for="cpm"
                class="form-label d-flex justify-content-between"
              >
                Mean Concave Points
                <span class="value-display" id="concavePointsValue">0</span>
              </label>
              <input
                type="range"
                class="form-range"
                name="cpm"
                id="concavePoints"
                min="0"
                max="0.2"
                step="0.001"
                value="0.05"
                oninput="updateValue(this, 'concavePointsValue')"
              />
              <div class="d-flex justify-content-between">
                <small>0</small>
                <small>0.2</small>
              </div>
            </div>
          </div>
        </div>

        <div class="text-center mt-4">
          <button type="submit" class="btn btn-primary btn-lg">
            Get Prediction
          </button>
        </div>
      </form>

      <div
        class="alert alert-warning alert-dismissible fade show"
        id="result-div"
        role="alert"
      >
        <strong>{{ result }}</strong>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="alert"
          aria-label="Close"
        ></button>
      </div>
    </main>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    <script>
      // Form field animations
      document.querySelectorAll(".form-control").forEach((input) => {
        input.addEventListener("focus", function () {
          this.parentElement.style.transform = "translateX(10px)";
        });

        input.addEventListener("blur", function () {
          this.parentElement.style.transform = "translateX(0)";
        });
      });

      // Result animation
      const resultDiv = document.getElementById("result-div");
      if (resultDiv.textContent.trim() !== "") {
        resultDiv.style.display = "block";
        resultDiv.style.animation = "fadeInUp 0.5s ease-out";
      } else {
        resultDiv.style.display = "none";
      }

      // Add this after the existing chart initialization
      const riskDistributionCtx = document
        .createElement("canvas")
        .getContext("2d");
      document
        .querySelector(".history-chart")
        .appendChild(riskDistributionCtx.canvas);

      // Risk Distribution Chart
      new Chart(riskDistributionCtx, {
        type: "radar",
        data: {
          labels: [
            "Cell Size",
            "Cell Shape",
            "Marginal Adhesion",
            "Single Cell Size",
            "Bare Nuclei",
            "Bland Chromatin",
          ],
          datasets: [
            {
              label: "Current Analysis",
              data: [65, 75, 70, 80, 60, 75],
              backgroundColor: "rgba(159, 26, 226, 0.2)",
              borderColor: "#9f1ae2",
              pointBackgroundColor: "#9f1ae2",
              pointBorderColor: "#fff",
            },
            {
              label: "Typical Benign",
              data: [40, 45, 35, 30, 35, 40],
              backgroundColor: "rgba(41, 55, 240, 0.2)",
              borderColor: "#2937f0",
              pointBackgroundColor: "#2937f0",
              pointBorderColor: "#fff",
            },
          ],
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          scales: {
            r: {
              angleLines: { color: "rgba(255, 255, 255, 0.1)" },
              grid: { color: "rgba(255, 255, 255, 0.1)" },
              pointLabels: { color: "#fff", font: { size: 12 } },
              ticks: {
                color: "#fff",
                backdropColor: "transparent",
                stepSize: 20,
              },
            },
          },
          plugins: {
            legend: { labels: { color: "#fff" } },
            tooltip: {
              callbacks: {
                label: function (context) {
                  return `${context.dataset.label}: ${context.raw}%`;
                },
              },
            },
          },
        },
      });

      // Feature Importance Visualization
      const featureImportanceData = [
        { feature: "Cell Size", importance: 78 },
        { feature: "Cell Shape", importance: 72 },
        { feature: "Marginal Adhesion", importance: 65 },
        { feature: "Single Cell Size", importance: 60 },
        { feature: "Bare Nuclei", importance: 55 },
        { feature: "Bland Chromatin", importance: 50 },
      ];

      const importanceContainer = document.querySelector(".feature-importance");
      importanceContainer.innerHTML = `
        <h4>Feature Importance</h4>
        ${featureImportanceData
          .map(
            (item) => `
          <div class="importance-item mb-3">
            <div class="d-flex justify-content-between align-items-center mb-1">
              <span>${item.feature}</span>
              <span class="badge bg-primary">${item.importance}%</span>
            </div>
            <div class="importance-bar">
              <div class="importance-fill" style="width: ${item.importance}%"></div>
            </div>
          </div>
        `
          )
          .join("")}
      `;

      // Add animated progress for importance bars
      document.querySelectorAll(".importance-fill").forEach((fill) => {
        fill.style.width = "0%";
        setTimeout(() => {
          fill.style.width =
            fill.parentElement.previousElementSibling.querySelector(
              ".badge"
            ).textContent;
        }, 100);
      });

      // Risk Level Gauge
      const gaugeContainer = document.createElement("div");
      gaugeContainer.className = "risk-gauge mt-4";
      gaugeContainer.innerHTML = `
        <h4 class="text-center mb-3">Risk Level Assessment</h4>
        <div class="gauge-visualization">
          <div class="gauge-arc">
            <div class="gauge-needle" id="gaugeNeedle"></div>
          </div>
          <div class="gauge-labels">
            <span>Low</span>
            <span>Moderate</span>
            <span>High</span>
          </div>
        </div>
      `;
      document
        .querySelector("#resultSection")
        .insertBefore(
          gaugeContainer,
          document.querySelector(".recommendations")
        );

      // Update the form submission handler to include gauge animation
      document
        .getElementById("predictionForm")
        .addEventListener("submit", async (e) => {
          e.preventDefault();

          document.querySelector(".loading-overlay").style.display = "flex";

          try {
            await new Promise((resolve) => setTimeout(resolve, 2000));

            document.getElementById("resultSection").style.display = "block";

            // Animate gauge needle based on risk level
            const riskLevel = Math.random(); // Replace with actual risk calculation
            const needleRotation = riskLevel * 180; // 0-180 degrees
            document.getElementById(
              "gaugeNeedle"
            ).style.transform = `rotate(${needleRotation}deg)`;

            updateHistoryChart();
          } finally {
            document.querySelector(".loading-overlay").style.display = "none";
          }
        });

      function updateValue(input, displayId) {
        const display = document.getElementById(displayId);
        const value = parseFloat(input.value);

        // Format the value based on the parameter type
        if (input.step === "0.001") {
          display.textContent = value.toFixed(3);
        } else if (input.step === "0.1") {
          display.textContent = value.toFixed(1);
        } else {
          display.textContent = value.toFixed(0);
        }

        // Add animation effect
        display.style.transform = "scale(1.2)";
        setTimeout(() => {
          display.style.transform = "scale(1)";
        }, 200);
      }

      // Initialize all value displays
      document.addEventListener("DOMContentLoaded", function () {
        const ranges = document.querySelectorAll(".form-range");
        ranges.forEach((range) => {
          updateValue(range, range.id + "Value");
        });
      });

      // Initialize tooltips
      var tooltipTriggerList = [].slice.call(
        document.querySelectorAll('[data-bs-toggle="tooltip"]')
      );
      var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
        return new bootstrap.Tooltip(tooltipTriggerEl);
      });

      // Image modal functionality
      const modal = document.getElementById("imageModal");
      const modalImg = document.getElementById("modalImage");
      const captionText = document.getElementById("imageCaption");

      document.querySelectorAll(".example-card img").forEach((img) => {
        img.onclick = function () {
          modal.style.display = "block";
          modalImg.src = this.src;
          captionText.innerHTML = this.alt;
        };
      });

      modal.onclick = function () {
        modal.style.display = "none";
      };
    </script>

    <!-- Add this section after the form -->
    <div class="container mt-5">
      <div class="prediction-card">
        <h2 class="mb-4">Understanding the Parameters</h2>

        <!-- Mean Radius -->
        <div class="parameter-item mb-4">
          <h4><i class="fas fa-circle me-2"></i>Mean Radius (6-28 units)</h4>
          <p class="text-muted">
            The average distance from the center to points on the perimeter of
            the cell nucleus. Higher values may indicate abnormal cell growth.
          </p>
          <div class="parameter-source">
            <strong>Source:</strong> Digital mammography and microscopic cell
            analysis using Fine Needle Aspirate (FNA)
          </div>
          <div class="normal-range">
            <strong>Normal Range:</strong> 6-12 units
            <span class="text-warning ms-2">Warning Range: >16 units</span>
          </div>
        </div>

        <!-- Mean Perimeter -->
        <div class="parameter-item mb-4">
          <h4>
            <i class="fas fa-draw-polygon me-2"></i>Mean Perimeter (43-190
            units)
          </h4>
          <p class="text-muted">
            The average size of the core tumor measured around its boundary.
            Larger perimeters may suggest more extensive tumor growth.
          </p>
          <div class="parameter-source">
            <strong>Source:</strong> High-resolution microscopic imaging and
            computerized cell boundary analysis
          </div>
          <div class="normal-range">
            <strong>Normal Range:</strong> 43-120 units
            <span class="text-warning ms-2">Warning Range: >150 units</span>
          </div>
        </div>

        <!-- Mean Area -->
        <div class="parameter-item mb-4">
          <h4>
            <i class="fas fa-vector-square me-2"></i>Mean Area (143-2501 square
            units)
          </h4>
          <p class="text-muted">
            The average area of the cell nucleus. Significantly larger areas can
            be indicative of malignant cells.
          </p>
          <div class="parameter-source">
            <strong>Source:</strong> Digital image processing of microscopic
            cell samples
          </div>
          <div class="normal-range">
            <strong>Normal Range:</strong> 143-800 sq units
            <span class="text-warning ms-2">Warning Range: >1000 sq units</span>
          </div>
        </div>

        <!-- Mean Compactness -->
        <div class="parameter-item mb-4">
          <h4>
            <i class="fas fa-compress-arrows-alt me-2"></i>Mean Compactness
            (0.05-0.3)
          </h4>
          <p class="text-muted">
            A measure of the cell's perimeter² / area - 1.0. Higher values
            indicate more irregular cell shapes, which can be a sign of
            malignancy.
          </p>
          <div class="parameter-source">
            <strong>Source:</strong> Computational analysis of cell morphology
          </div>
          <div class="normal-range">
            <strong>Normal Range:</strong> 0.05-0.15
            <span class="text-warning ms-2">Warning Range: >0.25</span>
          </div>
        </div>

        <!-- Mean Concavity -->
        <div class="parameter-item mb-4">
          <h4><i class="fas fa-chart-area me-2"></i>Mean Concavity (0-0.4)</h4>
          <p class="text-muted">
            Measures the severity of concave portions of the cell contour.
            Higher values suggest more irregular cell boundaries, often
            associated with malignant cells.
          </p>
          <div class="parameter-source">
            <strong>Source:</strong> Advanced 3D cell structure analysis and
            imaging
          </div>
          <div class="normal-range">
            <strong>Normal Range:</strong> 0-0.15
            <span class="text-warning ms-2">Warning Range: >0.3</span>
          </div>
        </div>

        <!-- Mean Concave Points -->
        <div class="parameter-item mb-4">
          <h4>
            <i class="fas fa-dot-circle me-2"></i>Mean Concave Points (0-0.2)
          </h4>
          <p class="text-muted">
            The number of concave portions of the cell contour. More concave
            points often indicate more complex and potentially malignant cell
            structures.
          </p>
          <div class="parameter-source">
            <strong>Source:</strong> Digital pathology and automated cell
            boundary analysis
          </div>
          <div class="normal-range">
            <strong>Normal Range:</strong> 0-0.05
            <span class="text-warning ms-2">Warning Range: >0.1</span>
          </div>
        </div>

        <!-- Measurement Methods -->
        <div class="mt-5">
          <h3 class="mb-4">Measurement Methods</h3>
          <div class="row g-4">
            <div class="col-md-4">
              <div class="method-card">
                <i class="fas fa-microscope mb-3 fa-2x"></i>
                <h5>Fine Needle Aspirate (FNA)</h5>
                <p>
                  A minimally invasive procedure where a thin needle is used to
                  extract cells from the breast tissue for microscopic
                  examination.
                </p>
              </div>
            </div>
            <div class="col-md-4">
              <div class="method-card">
                <i class="fas fa-laptop-medical mb-3 fa-2x"></i>
                <h5>Digital Image Analysis</h5>
                <p>
                  Advanced computer algorithms analyze digital images of cell
                  samples to measure various characteristics accurately.
                </p>
              </div>
            </div>
            <div class="col-md-4">
              <div class="method-card">
                <i class="fas fa-chart-bar mb-3 fa-2x"></i>
                <h5>Statistical Processing</h5>
                <p>
                  Multiple measurements are taken and statistically processed to
                  ensure accuracy and reliability of results.
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Add this section after the parameter explanations -->
    <div class="container mt-5">
      <div class="prediction-card">
        <h2 class="mb-4"></h2>

        <!-- Example Images Section -->
        <div class="row mb-5">
          <h3 class="mb-4">Cell Structure Examples</h3>
          <div class="col-md-4">
            <div class="example-card">
              <img
                src="/static/images/normal-cell.jpg"
                alt="Normal Cell"
                class="img-fluid rounded mb-2"
                data-bs-toggle="tooltip"
                title="Normal breast cells showing regular shape and uniform boundaries"
              />
              <h5>Normal Cell Structure</h5>
              <p class="text-muted">
                Regular cell shape and size with uniform boundaries. Cells are
                well-organized with consistent spacing.
              </p>
            </div>
          </div>
          <div class="col-md-4">
            <div class="example-card">
              <img
                src="/static/images/benign-cell.jpg"
                alt="Benign Cell"
                class="img-fluid rounded mb-2"
                data-bs-toggle="tooltip"
                title="Benign breast cells showing slight irregularities but maintaining organization"
              />
              <h5>Benign Cell Changes</h5>
              <p class="text-muted">
                Slightly irregular but organized cell patterns. May show minor
                variations in size but maintain overall structure.
              </p>
            </div>
          </div>
          <div class="col-md-4">
            <div class="example-card">
              <img
                src="/static/images/malignant-cell.jpg"
                alt="Malignant Cell"
                class="img-fluid rounded mb-2"
                data-bs-toggle="tooltip"
                title="Malignant breast cells showing highly irregular shapes and disorganized structure"
              />
              <h5>Malignant Cell Features</h5>
              <p class="text-muted">
                Highly irregular shapes with unclear boundaries. Shows
                significant variation in size and disorganized growth patterns.
              </p>
            </div>
          </div>
        </div>

        <!-- Advanced Measurement Methods -->
        <div class="measurement-section">
          <h3 class="mb-4">Advanced Measurement Techniques</h3>
          <div class="row g-4">
            <!-- Digital Mammography -->
            <div class="col-md-6">
              <div class="method-card">
                <div class="method-icon">
                  <i class="fas fa-x-ray fa-3x"></i>
                </div>
                <h4>Digital Mammography</h4>
                <p>High-resolution digital imaging that allows for:</p>
                <ul>
                  <li>Precise measurement of cell dimensions</li>
                  <li>Enhanced contrast for better visibility</li>
                  <li>Digital image processing for analysis</li>
                </ul>
                <div class="accuracy-rate">
                  <span class="badge bg-success">98% Accuracy</span>
                </div>
              </div>
            </div>

            <!-- 3D Imaging -->
            <div class="col-md-6">
              <div class="method-card">
                <div class="method-icon">
                  <i class="fas fa-cube fa-3x"></i>
                </div>
                <h4>3D Tomosynthesis</h4>
                <p>Advanced 3D imaging technology providing:</p>
                <ul>
                  <li>Multiple angle cell visualization</li>
                  <li>Detailed structural analysis</li>
                  <li>Better detection of small abnormalities</li>
                </ul>
                <div class="accuracy-rate">
                  <span class="badge bg-success">96% Accuracy</span>
                </div>
              </div>
            </div>

            <!-- AI Analysis -->
            <div class="col-md-6">
              <div class="method-card">
                <div class="method-icon">
                  <i class="fas fa-brain fa-3x"></i>
                </div>
                <h4>AI-Powered Analysis</h4>
                <p>Machine learning algorithms that provide:</p>
                <ul>
                  <li>Pattern recognition in cell structures</li>
                  <li>Automated measurement calculations</li>
                  <li>Predictive risk assessment</li>
                </ul>
                <div class="accuracy-rate">
                  <span class="badge bg-success">95% Accuracy</span>
                </div>
              </div>
            </div>

            <!-- Microscopic Analysis -->
            <div class="col-md-6">
              <div class="method-card">
                <div class="method-icon">
                  <i class="fas fa-microscope fa-3x"></i>
                </div>
                <h4>Advanced Microscopy</h4>
                <p>High-precision microscopic examination offering:</p>
                <ul>
                  <li>Cellular-level measurements</li>
                  <li>Detailed texture analysis</li>
                  <li>Real-time cell behavior monitoring</li>
                </ul>
                <div class="accuracy-rate">
                  <span class="badge bg-success">97% Accuracy</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Add this section after the parameter explanations -->
    <div class="container mt-5">
      <div class="prediction-card">
        <h2 class="mb-4">Understanding the Connection: Diabetes and Breast Cancer Risk</h2>
        
        <!-- Main Video Section -->
        <div class="row mb-5">
          <div class="col-lg-8 mx-auto">
            <div class="video-container mb-4">
              <iframe 
                width="100%" 
                height="450" 
                src="https://www.youtube.com/embed/GjqFO4IVNxM"
                title="Understanding Breast Cancer and Diabetes Connection" 
                frameborder="0" 
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                allowfullscreen>
              </iframe>
            </div>
            <div class="video-description">
              <h4>Early Detection and Prevention Strategies</h4>
              <p class="text-muted">
                Learn about the crucial link between diabetes and breast cancer risk, including early warning signs, prevention methods, and the importance of regular screening.
              </p>
            </div>
          </div>
        </div>

        <!-- Additional Educational Videos -->
        <div class="row g-4">
          <div class="col-md-6">
            <div class="video-card">
              <iframe 
                width="100%" 
                height="250" 
                src="https://www.youtube.com/embed/dNYK_5NSNyg"
                title="Understanding Risk Factors" 
                frameborder="0" 
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                allowfullscreen>
              </iframe>
              <div class="video-info mt-3">
                <h5>Risk Factors and Warning Signs</h5>
                <p class="text-muted">Learn about the key risk factors and early warning signs of breast cancer, with special focus on diabetes as a risk factor.</p>
              </div>
            </div>
          </div>
          
          <div class="col-md-6">
            <div class="video-card">
              <iframe 
                width="100%" 
                height="250" 
                src="https://www.youtube.com/embed/FTH56ifHt28"
                title="Prevention and Management" 
                frameborder="0" 
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                allowfullscreen>
              </iframe>
              <div class="video-info mt-3">
                <h5>Prevention and Management Strategies</h5>
                <p class="text-muted">Expert advice on managing diabetes to reduce breast cancer risk and maintaining overall health.</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Add this modal div at the bottom of the body -->
    <div class="image-modal" id="imageModal">
      <img class="modal-image" id="modalImage" />
      <div class="image-caption" id="imageCaption"></div>
    </div>
  </body>
</html>
